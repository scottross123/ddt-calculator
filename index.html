<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="stylesheet" href="./src/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desired Dough Temperature</title>
  </head>
  <body>
    <script type="module" src="/src/main.js"></script>
    
    <header>
      <a href="https://github.com/scottross123/ddt-calculator" target="_blank">GitHub</a>
    </header>

    <main>
      <article id="inputs">
        <h1 id="heading">Desired Dough Temperature</h1>    
        <p id="description">
          A calculator to determine the approximate water temperature to get to your desired dough temperature
          based on the temperature of your flour, room, pre-ferment, and heat from mixing. Change the values below
          get the water temperature.
        </p>
        <form>
          <label>
            Include pre-ferment?
            <input id="pre-ferment-checkbox" type="checkbox" checked>
          </label><br/>
          <label>
            Desired Dough Temperature
            <input id="ddt" type="number" min=0 value=78>
          </label>
          <label>
            Flour Temperature
            <input class="temp-input" id="flour" type="number" min=0 value=68>
          </label>
          <label>
            Room Temperature
            <input class="temp-input" id="room" type="number" min=0 value=68>
          </label>
          <label id="pre-ferment-label">
            Preferment Temperature
            <input class="temp-input" id="pre-ferment" type="number" min=0 value=70>
          </label>
          <label id="friction-label">
            Friction Factor
            <input class="temp-input" id="friction" type="number" min=0 value=26>
          </label>
          <label id="water-label">
            Water Temperature
            <p id="water-temp"></p>
          </label>
        </form>
      </article>

      <article class="card">
        <h4>How does the calculator work?</h4>
        <p id="how">
          First enter your desired dough temperature (DDT) at the end of mixing. 78°F is put as an example.
          Next take the temperature of your flour and enter this. Then determine the ambient temperature
          of the room you are mixing in. Next measure the temperature of your pre-ferment if there is one
          (this is an optional step). Finally, enter the temperature for the friction factor of your mixer
          mix method. Your DDT is then multiplied by the total number of factors determining temperature.
          If you include a pre-ferment this is 4 (flour, room, pre-ferment, friction), without pre-ferment this
          would be three (flour, room, friction). This number is called the total temperature factor. Your inputted
          temperatures except for your DDT are added together and subtracted from the TTF. This final result is the
         estimated water temperature you should use to get your DDT. 
        </p>
      </article>
      <article class="card">
        <h4>Why is desired dough temperature important?</h4>
        <p>
          Desired dough temperature is a helpful tool for get more consistent fermentation and bread flavor results. The rate
          of fermentation is most dependent on your dough's temperature. By monitoring and maintaining a consistent temperature
          through bulk fermentation, you can more accurately predict the fermentation time and your bread schedule. This is
          crucial in a bakery setting where you need consistent results and bread ready by a specific time. 75°F-82°F is 
          considered the optimal range for sourdough fermentation. In temperatures &gt;90°F, yeast activity begins to decline rapidly
          and at begin to die at 132°F. Temperatures too high can also cause excess enzymatic activity which can destroy
          the integrity of course. In most cases, you want to avoid a FDT &gt;85°F.
        </p>
      </article>
      <article>
        <h4>DDT vs. FDT</h4>
        <p>
          Desired dough temperature (DDT) is the temperature you want your dough to be at the end of mixing and the value
          you are using to calculate the water temperature you should use. Final dough temperature (FDT) is the actual measured
          temperature of your dough at the end of mixing. If the numbers you entered were correct these numbers should be
          about the same, if not then they will differ.
        </p>  
      </article>
      <article class="card">
        <h4>About the pre-ferment.</h4>
        <p>
          The pre-ferment can be a poolish, biga, pâte fermentée, sponge, or sourdough.
        </p>
      </article>
    <article class="card">
      <h4>About the friction factor.</h4>
        <p>
          Friction factor refers to the heat generated by your mixer or mixing method. You probably not know your friction factor
          initially, but if using a mixer it is generally within the range 20°F-26°. To determine your friction factor, record the temperature
          of your water, flour, pre-ferment if using, and room, then mix. After mixing, take your final dough temperature (FDT) and record this.
          You can now plug these numbers into your DDT equation and solve for the friction factor.<br /> 
          <code>4 * DDT - (Flour  + Room + Preferment + FF) = Water</code><br />
          <code>4 * DDT - Water - Flour - Room - Preferment = FF</code>
          <br />
          or
          <br />
          <code>3 * DDT - (Flour  + Room + FF) = Water</code><br />
          <code>4 * DDT - Water - Flour - Room = FF</code>      
        </p>
      </article>
    </main>
  </body>
</html>
