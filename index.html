<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="./src/styles/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desired Dough Temperature</title>
  </head>
  <body class="purplish">
    <script type="module" src="/src/ts/main.ts"></script>
    
    <header>
      <a href="https://github.com/scottross123/ddt-calculator" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
    </header>

    <main>
      <section id="inputs">
        <h1 id="heading">Desired Dough Temperature</h1>    
        <p id="description">
          This calculator determines the approximate water temperature to get to your desired dough temperature
          based on the temperature of your flour, room, pre-ferment, and heat from mixing. Change the values below
          get the water temperature.
        </p>
        <form>
          <fieldset id="options">
            <legend>Options</legend>
             <div class="option-wrapper">
              <label for="preferment-checkbox">
                Include pre-ferment?
                <input id="preferment-checkbox" type="checkbox" checked>
              </label><br/>
              <label for="fahrenheit">
                Fahrenheit
                <input id="fahrenheit" type="radio" name="c-or-f" checked>
              </label>
              <label for="celsius">
                Celsius
                <input id="celsius" type="radio" name="c-or-f">
              </label>
            </div>
            <div class="option-wrapper">
              <label for="theme-picker">
                Theme
                <select id="theme-picker">
                  <option disabled>Select a theme</option>
                  <option value="purplish">Purplish</option>
                  <option value="scotland">Scotland</option>
                  <option value="boring">Boring</option>
                  <option value="boring-dark">Boring Dark</option>
                  <option value="emerald">Emerald</option>
                </select>
              </label>
            </div>
          </fieldset>

          <fieldset id="calculator">
            <legend>Calculator</legend>
            <label class="temp-label" for="ddt">
              Desired Dough Temperature
              <input class="temp-input" id="ddt" type="number" min=0 value=78>
            </label>
            <label class="temp-label" for="flour">
              Flour Temperature
              <input class="temp-input formula-input" id="flour" type="number" min=0 value=68>
            </label>
            <label class="temp-label" for="room">
              Room Temperature
              <input class="temp-input formula-input" id="room" type="number" min=0 value=68>
            </label>
            <label class="temp-label" for="preferment" id="preferment-label">
              Pre-ferment Temperature
              <input class="temp-input formula-input" id="preferment" type="number" min=0 value=70>
            </label>
            <label class="temp-label" for="friction" id="friction-label">
              Friction Factor
              <input class="temp-input formula-input" id="friction" type="number" min=0 value=26>
            </label>
            <label class="temp-label" for="water-temp" id="water-label">
              Water Temperature
              <p id="water-temp"></p>
            </label>
          </fieldset>
        </form>
      </section>
      <section class="accordion">
        <article class="accordion-item">
          <h4 class="accordion-header">How does the calculator work?</h4>
          <p id="how" class="accordion-body">
            First enter your desired dough temperature (DDT) at the end of mixing. 78°F is put as an example.
            Next take the temperature of your flour and enter this. Then determine the ambient temperature
            of the room you are mixing in. Next measure the temperature of your pre-ferment if there is one
            (this is an optional step). Finally, enter the temperature for the friction factor of your mixer
            mix method. Your DDT is then multiplied by the total number of factors determining temperature.
            If you include a pre-ferment this is 4 (flour, room, pre-ferment, friction), without pre-ferment this
            would be three (flour, room, friction). This number is called the total temperature factor. Your inputted
            temperatures except for your DDT are added together and subtracted from the TTF. This final result is the
           estimated water temperature you should use to get your DDT.
          </p>
        </article>
        <article class="accordion-item">
          <h4 class="accordion-header">Why is desired dough temperature important?</h4>
          <p class="accordion-body">
            Desired dough temperature is a helpful tool for get more consistent fermentation and bread flavor results. The rate
            of fermentation is most dependent on your dough's temperature. By monitoring and maintaining a consistent temperature
            through bulk fermentation, you can more accurately predict the fermentation time and your bread schedule. This is
            crucial in a bakery setting where you need consistent results and bread ready by a specific time. 75°F-82°F is
            considered the optimal range for sourdough fermentation. In temperatures &gt;90°F, yeast activity begins to decline rapidly
            and at begin to die at 132°F. Temperatures too high can also cause excess enzymatic activity which can destroy
            the integrity of course. In most cases, you want to avoid a FDT &gt;85°F.
          </p>
        </article>
        <article class="accordion-item">
          <h4 class="accordion-header">DDT vs. FDT</h4>
          <p class="accordion-body">
            Desired dough temperature (DDT) is the temperature you want your dough to be at the end of mixing and the value
            you are using to calculate the water temperature you should use. Final dough temperature (FDT) is the actual measured
            temperature of your dough at the end of mixing. If the numbers you entered were correct these numbers should be
            about the same, if not then they will differ.
          </p>
        </article>
        <article class="accordion-item">
          <h4 class="accordion-header">About the pre-ferment.</h4>
          <p class="accordion-body">
            The pre-ferment can be a poolish, biga, pâte fermentée, sponge, or sourdough.
          </p>
        </article>
      <article class="accordion-item">
        <h4 class="accordion-header">About the friction factor.</h4>
          <p class="accordion-body">
            Friction factor refers to the heat generated by your mixer or mixing method. You probably not know your friction factor
            initially, but if using a mixer it is generally within the range 20°F-26°. To determine your friction factor, record the temperature
            of your water, flour, pre-ferment if using, and room, then mix. After mixing, take your final dough temperature (FDT) and record this.
            You can now plug these numbers into your DDT equation and solve for the friction factor.<br />
            <code>4 * DDT - (Flour  + Room + Preferment + FF) = Water</code><br />
            <code>4 * DDT - Water - Flour - Room - Preferment = FF</code>
            <br />
            or
            <br />
            <code>3 * DDT - (Flour  + Room + FF) = Water</code><br />
            <code>4 * DDT - Water - Flour - Room = FF</code>
          </p>
        </article>
      </section>
    </main>
    <footer>
      <p>© me 2022, don't steal please</p>
    </footer>
  </body>
</html>
